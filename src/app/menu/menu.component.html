<!-- Menu Hero Section -->
<section class="menu-hero bg-primary text-white">
  <div class="container">
    <div class="row align-items-center py-5">
      <div class="col-lg-8">
        <h1 class="display-4 fw-bold mb-3">Our Menu</h1>
        <p class="lead mb-0">Discover the authentic flavors of South India with our carefully crafted dishes</p>
      </div>
    </div>
  </div>
</section>


<!-- Menu Categories -->
<section class="section">
  <div class="container">
    <div class="row">
      <div class="col-lg-3">
        <!-- Menu Navigation -->
        <div class="menu-nav sticky-top" style="top: 100px;">
          <h5 class="text-primary fw-bold mb-3">Menu Categories</h5>
          <nav class="nav flex-column">
            <a *ngFor="let category of menu; let i = index"
               class="nav-link menu-nav-link"
               (click)="scrollToCategory(category.category, i)"
               [class.active]="activeCategory === i">
              <i class="fas fa-chevron-right me-2"></i>
              {{ category.category }}
            </a>
          </nav>
        </div>
      </div>

      <div class="col-lg-9">
        <!-- Menu Items -->
        <div class="menu-content">
          <div *ngFor="let category of menu; let i = index"
               class="menu-category mb-5"
               [id]="'category-' + i">

            <!-- Category Header -->
            <div class="category-header" (click)="toggleCategory(i)">
              <h2 class="category-title">
                <i class="fas fa-utensils me-3"></i>
                {{ category.category }}
                <span class="toggle-icon float-end">
                  <i class="fas" [class.fa-chevron-down]="!category.expanded" [class.fa-chevron-up]="category.expanded"></i>
                </span>
              </h2>
            </div>

            <!-- Category Items -->
            <div *ngIf="category.expanded" class="category-content">
              <!-- Direct Items -->
              <div *ngIf="category.items && category.items.length > 0" class="menu-items">
                <div *ngFor="let item of category.items" class="menu-item">
                  <div class="row align-items-center">
                    <div class="col-md-8">
                      <h5 class="item-name">{{ item.name }}</h5>
                      <p class="item-description">{{ item.description }}</p>
                      <span class="item-type badge" [ngClass]="getItemTypeClass(item.type)">
                        {{ item.type }}
                      </span>
                    </div>
                    <div class="col-md-4 text-md-end">
                      <div class="item-price">{{ item.price }}</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Subcategories -->
              <div *ngIf="category.subcategories && category.subcategories.length > 0" class="subcategories">
                <div *ngFor="let subcategory of category.subcategories" class="subcategory mb-4">
                  <h4 class="subcategory-title" (click)="toggleSubcategory(category, subcategory)">
                    {{ subcategory.subcategory }}
                    <span class="toggle-icon float-end">
                      <i class="fas" [class.fa-chevron-down]="!subcategory.expanded" [class.fa-chevron-up]="subcategory.expanded"></i>
                    </span>
                  </h4>

                  <p *ngIf="subcategory.note" class="subcategory-note text-muted">
                    <i class="fas fa-info-circle me-2"></i>
                    {{ subcategory.note }}
                  </p>

                  <div *ngIf="subcategory.expanded && subcategory.items" class="subcategory-items">
                    <div *ngFor="let item of subcategory.items" class="menu-item">
                      <div class="row align-items-center">
                        <div class="col-md-8">
                          <h5 class="item-name">{{ item.name }}</h5>
                          <p class="item-description">{{ item.description }}</p>
                          <span class="item-type badge" [ngClass]="getItemTypeClass(item.type)">
                            {{ item.type }}
                          </span>
                        </div>
                        <div class="col-md-4 text-md-end">
                          <div class="item-price">{{ item.price }}</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
